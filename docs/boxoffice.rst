.. contents::
   :depth: 3.0
..

.. \_boxoffice:

.. currentmodule:: tushare

.. highlightlang:: python

电影票房
========

通过网络获取国内当前实时票房和近期历史电影票房数据，了解当下电影热度和排片情况，尤其是上市公司投资出品的电影，可作为短期投资参考。目前主要包括以下类别：

-  实时票房数据
-  每日票房数据
-  月度票房数据
-  影院日度票房

数据来源：CBO中国票房

实时票房
--------

获取实时电影票房数据，30分钟更新一次票房数据，可随时调用。

返回值说明：

-  **BoxOffice** 实时票房（万）
-  **Irank** 排名
-  **MovieName** 影片名
-  **boxPer** 票房占比 （%）
-  **movieDay** 上映天数
-  **sumBoxOffice** 累计票房（万）
-  **time** 数据获取时间

调用方法：

::

    import tushare as ts
    df = ts.realtime_boxoffice()
    print(df)

结果显示：

::

        BoxOffice Irank MovieName boxPer  movieDay sumBoxOffice                 time
    0    4181.05     1       寻龙诀  33.51       10    115703.45  2015-12-27 13:07:05
    1    3494.63     2      恶棍天使  28.01        4     45492.15  2015-12-27 13:07:05
    2    3294.41     3       老炮儿  26.41        4     21624.89  2015-12-27 13:07:05
    3     816.58     4     唐人街探案   6.55       -3      2161.66  2015-12-27 13:07:05
    4     162.08     5     万万没想到   1.30       10     31496.95  2015-12-27 13:07:05
    5      78.34     6      海绵宝宝   0.63       27      5582.76  2015-12-27 13:07:05
    6      68.79     7   分手再说我爱你   0.55        4       472.51  2015-12-27 13:07:05
    7      55.75     8   咕噜咕噜美人鱼   0.45       16       842.81  2015-12-27 13:07:05
    8      19.08     9     圣诞大赢家   0.15       16       499.34  2015-12-27 13:07:05
    9      19.06    10      北京时间   0.15       17      2780.83  2015-12-27 13:07:05
    10    286.41    11        其它   1.00        0         0.00  2015-12-27 13:07:05

每日票房
--------

获取单日电影票房数据，默认为上一日的电影票房，可输入参数获取指定日期的票房。

参数说明：

-  **date**: 日期（YYYY-MM-DD）,默认为上一日

返回值说明：

-  **AvgPrice** 平均票价
-  **AvpPeoPle** 场均人次
-  **BoxOffice** 单日票房（万）
-  **BoxOffice\_Up** 环比变化 （%）
-  **IRank** 排名
-  **MovieDay** 上映天数
-  **MovieName** 影片名
-  **SumBoxOffice** 累计票房（万）
-  **WomIndex** 口碑指数

调用方法：

::

    import tushare as ts
    df = ts.day_boxoffice() #取上一日的数据
    #df = ts.day_boxoffice('2015-12-24')  #取指定日期的数据

结果显示：

::

      AvgPrice AvpPeoPle BoxOffice BoxOffice_Up IRank MovieDay  MovieName  \
    0       30        66     12251          -12     1        3       恶棍天使   
    1       38        71     10448           21     2        9        寻龙诀   
    2       31        63      6711           18     3        3        老炮儿   
    3       31        51      1284            0     4       -4      唐人街探案   
    4       32        21       500                  5       -5        小门神   
    5       30        17       285          -16     6        9      万万没想到   
    6       31        28       135           -8     7        3    分手再说我爱你   
    7       40       125       101            2     8       16       北京时间   
    8       40       150        73           -3     9      338  老人，孩子和外国人   
    9       40       145        73            1    10     2186     这样一位将军  
      SumBoxOffice WomIndex  
    0        41998     5.98  
    1       111522     8.74  
    2        18330     8.76  
    3         1345     8.38  
    4          574     8.40  
    5        31335     6.98  
    6          404     7.08  
    7         2762     7.48  
    8          285           
    9          288          

月度票房
--------

获取单月电影票房数据，默认为上一月，可输入月份参数获取指定月度的数据。

参数说明：

-  **date**:年月(YYYY-MM),默认为上一月

返回值说明：

-  **Irank** 排名
-  **MovieName** 电影名称
-  **WomIndex** 口碑指数
-  **avgboxoffice** 平均票价
-  **avgshowcount** 场均人次
-  **box\_pro** 月度占比
-  **boxoffice** 单月票房(万)
-  **days** 月内天数
-  **releaseTime** 上映日期

调用方法：

::

    import tushare as ts
    df = ts.month_boxoffice() #取上一月票房数据
    #df = ts.month_boxoffice('2015-10') #取2015年10月的数据

结果显示：

::

       Irank     MovieName      WomIndex avgboxoffice avgshowcount box_pro boxoffice  \
    0      1       007：幽灵党     6.94           32           29    20.1     53517   
    1      2          火星救援     8.47           36           32    12.6     33525   
    2      3        我的少女时代     8.05           28           30    10.1     26962   
    3      4     前任2：备胎反击战     7.08           30           19     9.4     25099   
    4      5         移动迷宫2     6.69           34           15     7.4     19674   
    5      6  饥饿游戏3：嘲笑鸟（下）     6.84           34           17     5.2     13875   
    6      7          我是证人     7.95           32           13     4.9     13121   
    7      8     玩命速递：重启之战     6.78           33           16     4.5     11997   
    8      9          绝命海拔     7.39           38           13     3.8     10215   
    9     10    陪安东尼度过漫长岁月     7.14           31           12     2.3      6234   
    10   999            其他                    32           11    19.4     51668   
       days releaseTime  
    0    18  2015-11-13  
    1     6  2015-11-25  
    2    12  2015-11-19  
    3    25  2015-11-06  
    4    27  2015-11-04  
    5    11  2015-11-20  
    6    30  2015-10-30  
    7    11  2015-11-20  
    8    28  2015-11-03  
    9    18  2015-11-13  
    10                 

影院日度票房
------------

获取全国影院单日票房排行数据，默认为上一日，可输入日期参数获取指定日期的数据。

参数说明：

-  **date**:日期(YYYY-MM-DD),默认为上一日

返回值说明：

-  **Attendance** 上座率
-  **AvgPeople** 场均人次
-  **CinemaName** 影院名称
-  **RowNum** 排名
-  **TodayAudienceCount** 当日观众人数
-  **TodayBox** 当日票房
-  **TodayShowCount** 当日场次
-  **price** 场均票价（元）

调用方法：

::

    import tushare as ts
    df = ts.day_cinema() #取上一日全国影院票房排行数据
    #df = ts.day_cinema('2015-12-24') #取指定日期的数据
    df.head(10)

结果显示：

::

       Attendance AvgPeople         CinemaName          RowNum TodayAudienceCount  \
    0   88.304569    196.04      北京星美国际影城（金源店）      1              16271   
    1   83.772203    184.69    Jackie Chan北京耀莱      2              18654   
    2   76.457680    133.04           上海星美正大影城      3              14634   
    3   75.949819    119.49           深圳橙天嘉禾影城      4              10635   
    4   91.889245    122.87            首都华融电影院      5              10321   
    5   75.675948    132.21       北京UME国际影城双井店      6               8990   
    6   73.138902    164.40         北京万达影城天通苑店      7               9864   
    7   71.210612    114.59          北京万达影城通州店      8               8938   
    8   74.209964    145.82         上海万达影城五角场店      9               9041   
    9   72.702934    147.59        北京UME华星国际影城     10               6789   
     TodayBox TodayShowCount  price  
    0   861625.00             83  52.95  
    1   805823.00            101  43.20  
    2   667272.05            110  45.60  
    3   644203.00             89  60.57  
    4   598478.00             84  57.99  
    5   577094.73             68  64.19  
    6   560577.00             60  56.83  
    7   544697.00             78  60.94  
    8   542259.00             62  59.98  
    9   510590.44             46  75.21
